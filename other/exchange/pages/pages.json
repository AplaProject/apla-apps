{
    "blocks": [],
    "contracts": [],
    "data": [],
    "languages": [],
    "menus": [],
    "pages": [
        {
            "Name": "ex_edit",
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "DBFind(@1symbol).WhereId(#id#).Vars(symbol)\nDBFind(@1ecosystems,src_eco).Where({\"id\":{\"$gt\":1}}).Columns(\"id,name\").Order(id)\nSetVar(s_pricetick,Money(#symbol_pricetick#))\nSetVar(s_range,Money(#symbol_range#))\nSetVar(s_lotsize,Money(#symbol_lotsize#))\nDiv(content-wrapper){\n    SetTitle($@1ex_symbol_param$)\n    Div(Class: breadcrumb){\n        LinkPage($@1ex_exchange$, @1ex_listing)\n        Span(/).Style(margin-right: 10px; margin-left: 10px;)\n        Span(Class: text-muted, Body: $@1ex_symbol_param$)\n    }\n    \n    Form(){\n        Div(form-group){\n            Label($@1title$)\n            Input(Name: name, Value: #symbol_name#, Disabled: true)\n        }\n        Div(form-group){\n            Label($@1ex_pricetick$)\n            Input(Name: pricetick,  Type: Number, Value: #s_pricetick#)\n        }\n        Div(form-group){\n            Label($@1ex_range$)\n            Input(Name: range,  Type: Number, Value: #s_range#)\n        }\n        Div(form-group){\n            Label($@1ex_lotsize$)\n            Input(Name: lotsize,  Type: Number, Value: #s_lotsize#)\n        }\n        Div(form-group){\n            Label($@1ex_ecosystem_hub$)\n            Select(Name: ecosystem, Source: src_eco, NameColumn: name, ValueColumn: id)\n        }\n        Div(form-group){\n            Button(Class: btn btn-primary, Body: $@1save$, Contract: @1ExSymbol, Page: @1ex_edit, PageParams: \"id=#symbol_id#\", Params: \"id=#symbol_id#, name=#symbol_name#, operation=E\").Alert(Text: $@1ex_confirmation_kill$, ConfirmButton: $@1yes$, CancelButton: $@1no$, Icon: question)\n        }\n    }\n}",
            "Menu": "default_menu"
        },
        {
            "Name": "ex_listing",
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "Include(@1pager_header)\nSetTitle($@1ex_exchange$)\nSpan(Class: text-muted h5 m0 mb ml-lg, Body: Span(Class: ml-sm, Body: $@1ex_exchange_desc$))\nIf(#role_id#==1){\n    SetVar(permission,1)\n}\nIf(#permission#==1){\n    AddToolButton(Title: $@1ex_symbol_new$, Page: @1ex_symbol_new, Icon: icon-plus).Popup(Header: $@1ex_symbol_new$, Width: \"45\")\n}\nDBFind(@1ecosystems).Count(eco_hubs)\nDBFind(@1symbol).Count(symbols)\n    DBFind(@1symbol,src_symbol).Custom(custom_name){\n        LinkPage(Class: #style_link# h5 text-bold, Page: @1ex_tradedesk, PageParams: \"ticker_id=#id#\"){\n                Div(Class: text-primary){\n                    Span(#name#).Style({padding-left: 30px;})\n                }\n            }\n        }.Custom(lotsize_money){\n                Money(#lotsize#)\n        }.Custom(pricetick_money){\n                Money(#pricetick#)\n        }.Custom(range_money){\n                Money(#range#)\n        }.Custom(tradeable_status){\n            If(#tradeable#==1){\n                If(#permission#==1){\n                    Button(Body: Em(Class: fa fa-check), Class: btn-xs btn-link, Page: @1ex_listing, Contract: @1ExSymbol, Params: \"operation=U,status=TR,isTradeable=0,id=#id#,name=#name#\").Style({margin-left: 30px;})\n                }.Else{\n                    Hint(fa fa-check, $@1ex_hint_tradestatus$).Style({margin-left: 30px;})\n                }\n            }.Else{\n                If(#permission#==1){\n                    Button(Body: Em(Class: fa fa-times), Class: btn-xs btn-link, Page: @1ex_listing, Contract: @1ExSymbol, Params: \"operation=U,status=TR,isTradeable=1,id=#id#,name=#name#\").Style({margin-left: 30px;})\n                }.Else{\n                    Hint(fa fa-times, $@1ex_error_tradestatus$).Style({margin-left: 30px;})\n                }\n            }\n        }.Custom(cross_status){\n            If(#cross#==1){\n                If(#permission#==1){\n                    Button(Body: Em(Class: fa fa-check), Class: btn-xs btn-link, Page: @1ex_listing, Contract: @1ExSymbol, Params: \"operation=U,status=CR,isCross=0,id=#id#\").Style({margin-left: 30px;})\n                }.Else{\n                    Hint(fa fa-check, $@1ex_hint_cross_trades$).Style({margin-left: 30px;})\n                }\n            }.Else{\n                If(#permission#==1){\n                    Button(Body: Em(Class: fa fa-times), Class: btn-xs btn-link, Page: @1ex_listing, Contract: @1ExSymbol, Params: \"operation=U,status=CR,isCross=1,id=#id#\").Style({margin-left: 30px;})\n                }.Else{\n                    Hint(fa fa-times, $@ex_error_cross_trades$).Style({margin-left: 30px;}).Style({margin-left: 30px;})\n                }\n            }\n        }.Custom(cancel_orders){\n            Button(Body: Em(Class: fa fa-window-close), Class: btn-xs btn-link, Page: @1ex_listing, Contract: @1ExCancel, Params: \"symbol=#name#\").Style({margin-left: 30px;})\n        }.Custom(edit){\n            Span(Class: pull-right){\n                LinkPage(Body: Em(Class: fa fa-cogs), Class: text-primary h4, Page: @1ex_edit, PageParams: \"id=#id#\")\n            }\n        }\nDiv(fullscreen){\n    Div(table-responsive ml-lg mr-lg){\n        Div(list-group-item){\n            If(#symbols# > 0){\n                If(#permission#==1){\n                    Table(Source: src_symbol, Columns: \"$@1ex_symbol$=custom_name,$@1ex_pricetick$=pricetick_money,$@1ex_range$=range_money,$@1ex_lotsize$=lotsize_money,$@1ex_trade_status$=tradeable_status,$@1ex_cross_trades$=cross_status,$@1ex_cancel_all$=cancel_orders,=edit\").Style(\n                        tbody > tr > td {\n                            padding-left: 30px;\n                        }\n                    )\n                }.Else{\n                    Table(Source: src_symbol, Columns: \"$@1ex_symbol$=custom_name,$@1ex_pricetick$=pricetick_money,$@1ex_range$=range_money,$@1ex_lotsize$=lotsize_money,$@1ex_trade_status$=tradeable_status,$@1ex_cross_trades$=cross_status\").Style(\n                        tbody > tr > td {\n                            padding-left: 30px;\n                        }\n                    )\n                }\n            }.Else{\n                If(#eco_hubs# > 0){\n                    Div(Class: text-center h4 text-muted, Body: $@1ex_error_no_symbols$)\n                }.Else{\n                    Div(Class: text-center h4 text-muted, Body: $@1ex_error_ecosystems$)\n                }\n            }                       \n        }.Style(\n            margin-top:-15px;\n            tbody > tr:nth-of-type(odd) {\n                background-color: #f8f9fc;\n            }\n        )\n    }\n}\nDiv(mt-sm ml-lg mr-sm mb-sm){\n    Include(@1pager)\n}\n",
            "Menu": "default_menu"
        },
        {
            "Name": "ex_symbol_new",
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "Form(){\n    DBFind(@1ecosystems,src_eco).Where({\"id\":{\"$gt\":1}}).Columns(\"id,name\").Order(id)\n    Data(bool,\"value,name\"){\n        0,\"N\"\n        1,\"Y\"\n    }\n    Div(row form-group){\n        Div(col-sm-3 mt-sm text-right){\n            Label(For: Name){\n                Span(Body: LangRes(@1ex_symbol)\n            }\n            Span(Class: text-danger, Body:*)\n        }\n        Div(col-sm-9){\n            Input(Name: name, Type: text)\n        }\n    }\n    Div(row form-group){\n        Div(col-sm-3 mt-sm text-right){\n            Label(For: Pricetick){\n                Span(Body: LangRes(@1ex_pricetick)\n            }\n            Span(Class: text-danger, Body:*)\n        }\n        Div(col-sm-9){\n            Input(Name: pricetick, Type: number)\n        }\n    }\n    Div(row form-group){\n        Div(col-sm-3 mt-sm text-right){\n            Label(For: Range){\n                Span(Body: LangRes(@1ex_range)\n            }\n            Span(Class: text-danger, Body:*)\n        }\n        Div(col-sm-9){\n            Input(Name: range, Type: number)\n        }\n    }\n    Div(row form-group){\n        Div(col-sm-3 mt-sm text-right){\n            Label(For: LotSize){\n                Span(Body: LangRes($@1ex_lotsize)\n            }\n            Span(Class: text-danger, Body:*)\n        }\n        Div(col-sm-9){\n            Input(Name: lotsize, Type: number)\n        }\n    }\n    Div(row form-group){\n        Div(col-sm-3 mt-sm text-right){\n            Label(For: isTradeable){\n                Span(Body: LangRes(@1ex_trade_status)\n            }\n            Span(Class: text-danger, Body:*)\n        }\n        Div(col-sm-9){\n            RadioGroup(Name: isTradeable, Value: 1, Source: bool, ValueColumn: value, NameColumn: name)\n        }\n    }\n    Div(row form-group){\n        Div(col-sm-3 mt-sm text-right){\n            Label(For: isCross){\n                Span(Body: LangRes(@1ex_cross_trades)\n            }\n            Span(Class: text-danger, Body:*)\n        }\n        Div(col-sm-9){\n            RadioGroup(Name: isCross, Value: 1, Source: bool, ValueColumn: value, NameColumn: name)\n        }\n    }\n    Div(row form-group){\n        Div(col-sm-3 mt-sm text-right){\n            Label(For: ecosystem_hub){\n                Span(Body: LangRes(@1ex_ecosystem_hub)\n            }\n            Span(Class: text-danger, Body:*)\n        }\n        Div(col-sm-9){\n            Select(Name: ecosystem, Source: src_eco, NameColumn: name, ValueColumn: id)\n        }\n    }\n    Div(row mt){\n        Div(col-md-12){\n            Button(Body: LangRes(@1back), Class: btn btn-default, Page: @1ex_listing)\n            Button(Body: LangRes(@1create), Page: @1ex_listing, Class: btn pull-right btn-primary, Contract: @1ExSymbol, Params: \"operation=C\")\n        }\n    }\n}",
            "Menu": "default_menu"
        },
        {
            "Name": "ex_tradedesk",
            "Conditions": "ContractConditions(\"MainCondition\")",
            "Value": "DBFind(@1symbol).Where({id:1}).Columns(\"id,name\").Vars(ticker)\n\nDiv(content-wrapper){\n     Div(col-lg-12){\n        Div(panel-body){\n            Div(row){\n                Span(Class: h3 text-primary, Body: #ticker_name#)\n                Div(col-md-12){\n                    DBFind(@1order_log,src_L1).Where({\"status\":\"F\",\"symbol\":\"#ticker_name#\",\"venue\":\"EX\"}).Order({\"id\":\"1\"}).Limit(1)\n                    Table(Source: src_L1, Columns: \"Flag=flag,Price=price,Quantity=quantity,Value=value\")\n                }\n            }\n        }\n    }\n    Div(col-lg-6){\n        Form(panel panel-primary){\n            Div(panel-body){\n                Div(row){\n                    Div(col-md-10){\n                        Form(){\n                            Div(row form-group){\n                                Div(col-sm-3 mt-sm text-right){\n                                    Label(For: Quantity){\n                                        \"Quantity\"\n                                    }\n                                    Span(Class: text-danger, Body:*)\n                                }\n                                Div(col-sm-9){\n                                    Input(Name: quantity, Type: number)\n                                }\n                            }\n                            Div(row form-group){\n                                Div(col-sm-3 mt-sm text-right){\n                                    Label(For: Price){\n                                        \"Price\"\n                                    }\n                                    Span(Class: text-danger, Body:*)\n                                }\n                                Div(col-sm-9){\n                                    Input(Name: price, Type: number)\n                                }\n                            }\n                            Div(row mt){\n                                Div(col-md-12){\n                                    Button(Body: \"Sell\", Page: @1ex_tradedesk, Class: btn pull-left btn-danger, Contract: @1ExMatching, Params: \"flag=S, symbol=#ticker_name#, venue=EX, client=#key_id#, status=A\", PageParams: \"ticker_id=#ticker_id#\")\n                                    Button(Body: \"Buy\", Page: @1ex_tradedesk, Class: btn pull-right btn-success, Contract: @1ExMatching, Params: \"flag=B, symbol=#ticker_name#, venue=EX, client=#key_id#, status=A\", PageParams: \"ticker_id=#ticker_id#\")\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    Div(col-lg-6){\n        Form(panel panel-primary){\n            Div(panel-body){\n                Div(row){\n                    Div(col-md-12 text-left){\n                        DBFind(@1order_log,src_S).Where({\"flag\":\"S\",\"symbol\":\"#ticker_name#\",\"status\":\"A\",\"venue\":\"EX\"}).Order({\"price\":\"-1\"}).Limit(20).Custom(price_money){\n                                Money(#price#)\n                        }.Custom(value_money){\n                                Money(#client_value#) for Money(#counterparty_value#)\n                        }.Custom(_button){\n                            Button(Body: \"Buy\", Class: btn btn-success, Page: @1ex_tradedesk, Contract: @1ExMatching, Params: \"flag=B,venue=EX,client=#key_id#,id=#id#,quantity=#quantity#,price=#price#,symbol=#symbol#,status=F\", PageParams: \"ticker_id=#ticker_id#\")\n                        }.Custom(_cancel){\n                            If(#client#==#key_id#){\n                                Button(Body: \"Cancel\", Class: btn btn-warning, Page: @1ex_tradedesk, Contract: @1ExMatching, Params: \"flag=#flag#,venue=EX,client=#key_id#,id=#id#,quantity=#quantity#,price=#price#,symbol=#symbol#,status=C\", PageParams: \"ticker_id=#ticker_id#\")\n                            }\n                        }.Count(sell_orders)\n                        If(#sell_orders# > 0){\n                            Table(Source: src_S, Columns: \"=_cancel,Flag=flag,Symbol=symbol,Quantity=quantity,Price=price_money,Value=value_money,=_button\").Style(\n                                tbody > tr > td {\n                                    width: 10%;\n                                    word-break: break-all;\n                                    font-weight: 400;\n                                    font-size: 13px;\n                                    color: #666;\n                                    border-top: 1px solid #eee;\n                                    vertical-align: middle;\n                                }\n                            )\n                        }.Else{\n                            Div(Class: h4 text-bold m0 text-center, Body: $@1ex_hint_no_orders$ #ticker_name#)\n                        }\n                        DBFind(@1order_log,src_B).Where({\"flag\":\"B\",\"symbol\":\"#ticker_name#\",\"status\":\"A\",\"venue\":\"EX\"}).Order({\"price\":\"-1\"}).Limit(20).Custom(price_money){\n                                Money(#price#)\n                        }.Custom(value_money){\n                                Money(#client_value#) for Money(#counterparty_value#)\n                        }.Custom(_button){\n                            Button(Body: \"Sell\", Class: btn btn-danger, Page: @1ex_tradedesk, Contract: @1ExMatching, Params: \"flag=S,venue=EX,client=#key_id#,id=#id#,quantity=#quantity#,price=#price#,symbol=#symbol#,status=F\", PageParams: \"ticker_id=#ticker_id#\")\n                        }.Custom(_cancel){\n                            If(#client#==#key_id#){\n                                Button(Body: \"Cancel\", Class: btn btn-warning, Page: @1ex_tradedesk, Contract: @1ExMatching, Params: \"flag=#flag#,venue=EX,client=#key_id#,id=#id#,quantity=#quantity#,price=#price#,symbol=#symbol#,status=C\", PageParams: \"ticker_id=#ticker_id#\")\n                            }\n                        }.Count(buy_orders)\n                        If(#buy_orders# > 0){\n                            Table(Source: src_B, Columns: \"=_cancel,Flag=flag,Symbol=symbol,Quantity=quantity,Price=price_money,Value=value_money,=_button\").Style(\n                                tbody > tr > td {\n                                    width: 10%;\n                                    word-break: break-all;\n                                    font-weight: 400;\n                                    font-size: 13px;\n                                    color: #666;\n                                    border-top: 1px solid #eee;\n                                    vertical-align: middle;\n                                }\n                            )\n                        }\n                    }\n                }\n            }\n        }\n    }\n    Div(col-lg-6){\n        Form(panel panel-primary){\n            Div(panel-body){\n                Div(row){\n                    Div(col-md-10){\n                        DBFind(@1order_log,src_L2).Where({\"status\":\"F\",\"symbol\":\"#ticker_name#\",\"venue\":\"EX\"}).Columns(\"id,price\")\n                        Chart(Type: \"line\", Source: src_L2, FieldLabel: \"id\", FieldValue: \"price\", Colors: \"#e74c3c, #2ecc71, #8e44ad, #34495e, #ecf0f1, #F79F1F, #1B1464, #6F1E51\") \n                    }\n                }\n            }\n        }\n    }\n}\n\n",
            "Menu": "default_menu"
        }
    ],
    "parameters": [],
    "tables": []
}