contract TeTypeChange {
    data {}
    conditions {
        MainCondition()
        $item = DBFind("@1ecosystems").WhereId($ecosystem_id).Row()
        if !$item {
            warning LangRes("@1emission_not_found", "en")
        }
        $SINGLETIME = 1
        $MULTI = 2
        if $item["type_emission"] != $MULTI {
            warning LangRes("@1emission_type_error", "en")
        }
    }
    action {
        DBUpdate("@1ecosystems", $ecosystem_id, {type_emission:$SINGLETIME})
    }
}