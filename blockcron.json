{
            "name": "Block cron",
            "data": [
                {
                "Type": "pages",
                "Name": "blockcron_create",
                "Value": "SetTitle($block_timer$)\r\n\r\nDBFind(buffer_data, src_buffer).Columns(\"value->app_id\").Where(\"key='export' and member_id=#key_id#\").Vars(buffer)\r\nSetVar(contracts_limit, 200)\r\nIf(#buffer_value_app_id#>0){\r\n    DBFind(Name: contracts, Source: src_contracts).Where(\"app_id=#buffer_value_app_id#\").Limit(#contracts_limit#)\r\n}.Else{\r\n    DBFind(contracts, src_contracts).Limit(#contracts_limit#)\r\n}\r\n\r\nDiv(content-wrapper){\r\n    Div(breadcrumb){\r\n        LinkPage(Body: $blockcron_list$, Page: blockcron_list)\r\n        Span(/, mh-sm)\r\n        Span($create$, text-muted)\r\n    }\r\n    Div(container){\r\n        Div(row){\r\n            Div(col-md-8 col-md-offset-2){\r\n                Form(panel panel-primary){\r\n                    Div(panel-heading){\r\n                        $create$\r\n                    }\r\n                    Div(panel-body){\r\n                        Div(form-group){\r\n                            Div(row){\r\n                                Div(col-md-3 text-right mt-sm){\r\n                                    Label(For: contract_name){\r\n                                        LangRes($contract$)\r\n                                    }\r\n                                }\r\n                                Div(col-md-9 text-left){\r\n                                    Select(Name: contract_name, Source: src_contracts, NameColumn: name, ValueColumn: name)\r\n                                }\r\n                            }\r\n                        }\r\n                        Div(form-group){\r\n                            Div(row){\r\n                                Div(col-md-3 text-right mt-sm){\r\n                                    Label(For: start_block){\r\n                                        LangRes($start_block$)\r\n                                    }\r\n                                }\r\n                                Div(col-md-9 text-left){\r\n                                    Input(Name: start_block, Type: number)\r\n                                }\r\n                            }\r\n                        }\r\n                        Div(form-group){\r\n                            Div(row){\r\n                                Div(col-md-3 text-right mt-sm){\r\n                                    Label(For: every_block){\r\n                                        LangRes($interval$)\r\n                                    }\r\n                                }\r\n                                Div(col-md-9 text-left){\r\n                                    Input(Name: every_block, Type: number)\r\n                                }\r\n                            }\r\n                        }\r\n                        Div(form-group){\r\n                            Div(row){\r\n                                Div(col-md-3 text-right mt-sm){\r\n                                    Label(For: limit){\r\n                                        LangRes($limit$)\r\n                                    }\r\n                                }\r\n                                Div(col-md-9 text-left){\r\n                                    Input(Name: limit, Type: number)\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    Div(panel-footer text-right){\r\n                        Button(Page: blockcron_list, Body: $back$, Class: btn btn-default pull-left)\r\n                        Button(Contract: BlockCronCreate, Body: $create$, Class: btn btn-primary, Page: blockcron_list)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}",
                "Conditions": "ContractConditions(\"MainCondition\")",
                "Menu": "default_menu",
                "Title": "",
                "Trans": "",
                "Columns": "",
                "Permissions": ""
            },
{
                "Type": "pages",
                "Name": "blockcron_list",
                "Value": "SetTitle($blockcron_list$)\r\nAddToolButton(Title: $create$, Icon:\"icon icon-clock\", Page:blockcron_create)\r\nDiv(content-wrapper){\r\n    Div(panel panel-primary){\r\n        Div(panel panel-body){\r\n            DBFind(delayed_contracts,src_cron).Columns(contract,every_block,counter).Where(\"key_id=#key_id# and not deleted\").Order(id desc).Custom(_actions){\r\n                Div(text-right){\r\n                    Div(input-group-btn){\r\n                        Button(Contract: BlockCronDelete, Class: btn btn-danger icon-trash, Params:\"id=#id#\", Page:blockcron_list).Alert(Text: $want_delete_block_timer$,ConfirmButton:$yes$, CancelButton: $cancel$)\r\n                        Button(Class:btn btn-primary fa fa-edit, Page:blockcron_edit, PageParams: \"id=#id#\")\r\n                    }\r\n                }\r\n            }\r\n            Table(src_cron,\"$contract$=contract,$interval$=every_block,$count$=counter,=_actions\")\r\n        }\r\n    }\r\n}",
                "Conditions": "ContractConditions(\"MainCondition\")",
                "Menu": "default_menu",
                "Title": "",
                "Trans": "",
                "Columns": "",
                "Permissions": ""
            },
{
                "Type": "pages",
                "Name": "blockcron_edit",
                "Value": "SetTitle($block_timer$)\r\n\r\nIf(#id# > 0){\r\n    DBFind(Name: delayed_contracts).Columns(contract,every_block).WhereId(#id#).Vars(delayed_contract)\r\n}.Else{\r\n    SetVar(#delayed_contract_contract#, )\r\n    SetVar(#delayed_contract_every_block#, )\r\n}\r\n\r\nDiv(content-wrapper){\r\n    Div(breadcrumb){\r\n        LinkPage(Body: $blockcron_list$, Page: blockcron_list)\r\n        Span(/, mh-sm)\r\n        Span($create$, text-muted)\r\n    }\r\n    Div(container){\r\n        Div(row){\r\n            Div(col-md-8 col-md-offset-2){\r\n                Form(panel panel-primary){\r\n                    Div(panel-heading){\r\n                        $create$\r\n                    }\r\n                    Div(panel-body){\r\n                        Div(form-group){\r\n                            Div(row){\r\n                                Div(col-md-3 text-right mt-sm){\r\n                                    Label(For: contract){\r\n                                        LangRes($contract$)\r\n                                    }\r\n                                }\r\n                                Div(col-md-9 text-left){\r\n                                    Span(#delayed_contract_contract#)\r\n                                }\r\n                            }\r\n                        }\r\n                        Div(form-group){\r\n                            Div(row){\r\n                                Div(col-md-3 text-right mt-sm){\r\n                                    Label(For: every_block){\r\n                                        LangRes($interval$)\r\n                                    }\r\n                                }\r\n                                Div(col-md-9 text-left){\r\n                                    Input(Name: every_block, Type: number, Value: #delayed_contract_every_block#)\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    Div(panel-footer text-right){\r\n                        Button(Page: blockcron_list, Body: $back$, Class: btn btn-default pull-left)\r\n                        Button(Contract: BlockCronEdit, Params: \"id=#id#\", Body: $save$, Class: btn btn-primary, Page: blockcron_list)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}",
                "Conditions": "true",
                "Menu": "default_menu",
                "Title": "",
                "Trans": "",
                "Columns": "",
                "Permissions": ""
            },
{
                "Type": "contracts",
                "Name": "BlockCronCreate",
                "Value": "contract BlockCronCreate {\r\n    data {\r\n        contract_name string\r\n        limit int\r\n        start_block int\r\n        every_block int\r\n    }\r\n    conditions {\r\n        if $start_block < $block {\r\n            $start_block = $block + 1\r\n        }\r\n    }\r\n    action {\r\n        NewDelayedContract(\"Contract,EveryBlock,Conditions,BlockID,Limit\", $contract_name, $every_block, `ContractAccess(\"BlockCronEdit\")`, $start_block, $limit)\r\n    }\r\n}",
                "Conditions": "true",
                "Menu": "",
                "Title": "",
                "Trans": "",
                "Columns": "",
                "Permissions": ""
            },
{
                "Type": "contracts",
                "Name": "BlockCronEdit",
                "Value": "contract BlockCronEdit {\n    data {\n        id int\n        every_block int\n    }\n    conditions {\n        if $every_block < 1 {\n            warning \"Interval less than 1\"\n        }\n    }\n    action {\n        EditDelayedContract(\"Id,EveryBlock\", $id, $contract_name)\n    }\n}",
                "Conditions": "true",
                "Menu": "",
                "Title": "",
                "Trans": "",
                "Columns": "",
                "Permissions": ""
            },
{
                "Type": "contracts",
                "Name": "BlockCronDelete",
                "Value": "contract BlockCronDelete {\n    data {\n        id intt\n    }\n    conditions {\n    }\n    action {\n        EditDelayedContract(\"Id,Deleted\", $id, 1)\n    }\n}",
                "Conditions": "true",
                "Menu": "",
                "Title": "",
                "Trans": "",
                "Columns": "",
                "Permissions": ""
            },
{
                "Type": "tables",
                "Name": "block_cron",
                "Value": "",
                "Conditions": "ContractAccess(\"@1EditTable\")",
                "Menu": "",
                "Title": "",
                "Trans": "",
                "Columns": "[{\"conditions\":\"true\",\"name\":\"interval\",\"type\":\"number\"},{\"conditions\":\"true\",\"name\":\"next_block\",\"type\":\"number\"},{\"conditions\":\"true\",\"name\":\"contract_id\",\"type\":\"number\"},{\"conditions\":\"true\",\"name\":\"start_block\",\"type\":\"number\"},{\"conditions\":\"true\",\"name\":\"owner\",\"type\":\"number\"},{\"conditions\":\"true\",\"name\":\"counter\",\"type\":\"number\"},{\"conditions\":\"true\",\"name\":\"deleted\",\"type\":\"number\"},{\"conditions\":\"true\",\"name\":\"limited\",\"type\":\"number\"}]",
                "Permissions": "{\"insert\": \"true\", \"update\": \"true\", \"new_column\": \"true\"}"
            },
{
                "Type": "menu",
                "Name": "default_menu",
                "Value": "MenuItem(Title:Wallet, Page:profile_view, Icon:\"icon-wallet\")\r\nMenuGroup(Title:Multiwallet, Icon:\"icon-arrow-right\"){\r\n    MenuItem(Title:Create multiwallet, Page:multiwallet_create, Icon:\"fa icon-plus\")\r\n    MenuItem(Title:Atoorney list, Page:attorney_list, Icon:\"icon-list\")\r\n}\r\nMenuItem(Title:Notifications, Page:notifications_list, Icon:\"icon-flag\")\r\nMenuItem(Title:Membership, Page:members_list, Icon:\"fa icon-people\")\r\nMenuGroup(Title:Admin, Icon:\"icon-arrow-right\"){\r\n\tMenuItem(Title:Roles, Page:roles_list, Icon:\"fa fa-list-ul\")\r\n\tMenuItem(Title:Voting, Page:voting_list, Icon:\"fa fa-edit\")\r\n}\r\nMenuGroup(Title:Admin, Icon:\"icon-arrow-right\"){\r\n\tMenuItem(Title:Voting templates, Page:voting_templates, Icon:\"fa icon-pin\")\r\n    MenuItem(Title:Platform parameter,Page:sysparams_list, Icon:\"fa icon-settings\")\r\n    MenuItem(Title:Candidate for validators, Page:sysparams_candidates, Icon:\"icon-list\")\r\n    MenuItem(Title:Ecosystems list, Page:sysparams_ecos, Icon:\"icon-list\")\r\n    MenuItem(Title:Tokens refund list, Page:tokenrefund_list, Icon:\"icon-list\")\r\n\tMenuItem(Title:Ecosystems, Page:membership_ecosystems, Icon:\"fa fa-list-ul\")\r\n}\nMenuItem(Title:$blockcron_list$, Page:blockcron_list, Icon:\"icon-list\")",
                "Conditions": "ContractConditions(\"MainCondition\")",
                "Menu": "",
                "Title": "default",
                "Trans": "",
                "Columns": "",
                "Permissions": ""
            }
            ]
        }