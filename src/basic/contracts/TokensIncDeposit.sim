contract TokensIncDeposit {
    data {
        Amount money
    }

    conditions {
        $amount = DBFind("@1keys").WhereId($key_id).Row()
        if Money($Amount) > (Money($amount["amount"]) - Money($amount["deposit"])){
            warning LangRes("@1insufficient_funds", "en")
        }
    }
    
    action {
        var s map
        s["+deposit"] = $Amount
        DBUpdate("@1keys",$key_id,s)
    }
}