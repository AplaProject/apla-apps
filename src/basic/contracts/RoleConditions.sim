contract RoleConditions {
    data {
        role string
    }
    
    conditions {
        $key_address = IdToAddress($key_id)
        if !DBFind("@1roles_participants").Where({"ecosystem": $ecosystem_id, "role->name": $role, "member->address": $key_address, "deleted": 0}).Row() {
            warning Sprintf(LangRes("@1x_role_only_action", "en"), $role)
        }
    }
}